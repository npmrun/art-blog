---
import { siteInfo, nav } from "@blog/config";
import "./style.scss";
---

<div
    id="navbar"
    class="navbar fixed top-0 z-[99] dark:bg-slate-900/30 flex shadow text-white dark:shadow-none backdrop-blur"
>
    <div class="flex-1">
        <a
            href="/"
            class="hover:underline font-bold text-[25px] flex items-center"
        >
            <img
                src={siteInfo.icon}
                width="48"
                height="48"
                alt={siteInfo.siteName}
                class="rounded-full"
            />
            <h1 class="ml-3">{siteInfo.siteName}</h1>
        </a>
    </div>
    <slot />
    <div class="flex-none">
        <ul class="menu menu-horizontal p-0 hidden md:flex">
            {
                nav.map((item, index) => (
                    <li tabindex={index + 1}>
                        <a href={item.slug}>
                            {item.title}
                            {!!item.children?.length && (
                                <svg
                                    class="fill-current"
                                    xmlns="http://www.w3.org/2000/svg"
                                    width="20"
                                    height="20"
                                    viewBox="0 0 24 24"
                                >
                                    <path d="M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z" />
                                </svg>
                            )}
                        </a>
                        {!!item.children?.length && (
                            <ul class="p-2 bg-base-100 min-w-[150px] dark:bg-blue-900 dark:brightness-[.65] shadow dark:shadow-none">
                                {item.children.map((item, index) => (
                                    <li>
                                        <a href={item.slug}>{item.title}</a>
                                    </li>
                                ))}
                            </ul>
                        )}
                    </li>
                ))
            }
        </ul>
        <div class="dropdown dropdown-end md:hidden">
            <label tabindex="0" class="btn btn-ghost btn-circle">
                <svg
                    xmlns="http://www.w3.org/2000/svg"
                    fill="none"
                    viewBox="0 0 24 24"
                    class="inline-block w-5 h-5 stroke-current"
                    ><path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        stroke-width="2"
                        d="M4 6h16M4 12h16M4 18h16"></path>
                </svg>
            </label>
            <ul
                tabindex="0"
                class="menu menu-compact dropdown-content mt-3 p-2 shadow bg-base-100 rounded-box w-52"
            >
                <li>
                    <a class="justify-between">
                        Profile
                        <span class="badge">New</span>
                    </a>
                </li>
                <li><a>Settings</a></li>
                <li><a>Logout</a></li>
                <li tabindex="0">
                    <span>Parent</span>
                    <ul
                        class="bg-base-100 left-auto right-full rounded-box p-2"
                    >
                        <li><a>Submenu 1</a></li>
                        <li><a>Submenu 2</a></li>
                        <li><a>Submenu 3</a></li>
                    </ul>
                </li>
            </ul>
        </div>
    </div>
    <script src="./main.ts"></script>
</div>
