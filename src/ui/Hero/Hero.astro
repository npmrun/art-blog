---
interface Props {
    bg: string;
}
const { bg } = Astro.props as Props;

---

<style lang="scss">
    @import "./style.scss";
</style>
<div class="bg">
    <div class="line md:h-[550px] h-[250px]"></div>
    <figure
        class="w-full block pb-[250px] md:pb-[550px] bg-cover bg-center bg-no-repeat"
        style={`background-image: url(${bg});`}
    >
    </figure>
    <!-- https://codepen.io/goodkatz/pen/LYPGxQz -->
    <svg
        class="waves"
        xmlns="http://www.w3.org/2000/svg"
        xmlns:xlink="http://www.w3.org/1999/xlink"
        viewBox="0 24 150 28"
        preserveAspectRatio="none"
        shape-rendering="auto"
    >
        <defs>
            <path
                id="gentle-wave"
                d="M -160 44 c 30 0 58 -18 88 -18 s 58 18 88 18 s 58 -18 88 -18 s 58 18 88 18 v 15.945 h -352 z"
            ></path>
        </defs>
        <g class="parallax">
            <use
                xlink:href="#gentle-wave"
                x="48"
                y="0"
                fill="rgba(255,255,255,0.7)"></use>
            <use
                xlink:href="#gentle-wave"
                x="48"
                y="3"
                fill="rgba(255,255,255,0.5)"></use>
            <use
                xlink:href="#gentle-wave"
                x="48"
                y="5"
                fill="rgba(255,255,255,0.3)"></use>
            <use xlink:href="#gentle-wave" x="48" y="7" fill="#f1f5f9"></use>
        </g>
    </svg>
    <style>
        .waves {
            position: absolute;
            bottom: 0;
            width: 100%;
            height: 15vh;
            margin-bottom: -7px; /*Fix for safari gap*/
            min-height: 100px;
            max-height: 150px;
        }

        .parallax > use {
            animation: move-forever 25s cubic-bezier(0.55, 0.5, 0.45, 0.5)
                infinite;
        }
        .parallax > use:nth-child(1) {
            animation-delay: -2s;
            animation-duration: 7s;
        }
        .parallax > use:nth-child(2) {
            animation-delay: -3s;
            animation-duration: 10s;
        }
        .parallax > use:nth-child(3) {
            animation-delay: -4s;
            animation-duration: 13s;
        }
        .parallax > use:nth-child(4) {
            animation-delay: -5s;
            animation-duration: 20s;
        }
        @keyframes move-forever {
            0% {
                transform: translate3d(-90px, 0, 0);
            }
            100% {
                transform: translate3d(85px, 0, 0);
            }
        }
        /*Shrinking for mobile*/
        @media (max-width: 768px) {
            .waves {
                height: 40px;
                min-height: 40px;
            }
            .content {
                height: 30vh;
            }
            h1 {
                font-size: 24px;
            }
        }
    </style>
    <!-- <svg class="waves" viewBox="0 24 150 24" preserveAspectRatio="none">
        <defs>
            <path
                id="wave"
                d="M -160 44 c 30 0 58 -18 88 -18 s 58 18 88 18 s 58 -18 88 -18 s 58 18 88 18 v 6 h -352 z"
            ></path>
        </defs>
        <g>
            <use class="wave" xlink:href="#wave" fill="#4579e2" x="50" y="0"
            ></use>
            <use class="wave" xlink:href="#wave" fill="#3461c1" x="50" y="2"
            ></use>
            <use class="wave" xlink:href="#wave" fill="#2d55aa" x="50" y="4"
            ></use>
        </g>
    </svg> -->
</div>
